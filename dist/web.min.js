var myApp=angular.module("myApp",["ui.router","ui.sortable","bw.paging","ngSanitize","moment-picker","LocalStorageModule","angular-sha1"]);myApp.config(["$stateProvider","$urlRouterProvider","$httpProvider","localStorageServiceProvider",function(e,t,a,n){a.interceptors.push("HttpInterceptor"),t.otherwise("/login"),e.state("login",{url:"/login",templateUrl:"./templates/login/login.html"}).state("realtime",{url:"/realtime",templateUrl:"./templates/realtime/realtime.html"}).state("lottery",{url:"/lottery",templateUrl:"./templates/lottery/lottery.html"}).state("lottery.list",{url:"/list",templateUrl:"./templates/lottery/lotterylist.html",controller:"lotterylistCtrl"}).state("integral",{url:"/integral",templateUrl:"./templates/integral/integral.html"}).state("integral.apply",{url:"/apply",templateUrl:"./templates/integral/apply.html"}).state("integral.list",{url:"/list",templateUrl:"./templates/integral/list.html"}).state("integralDetail",{url:"/integralDetail/?userId&userName",templateUrl:"./templates/integral/integralDetail.html"}).state("profitlose",{url:"/profitlose",templateUrl:"./templates/profitlose/profitlose.html"}).state("profitlose.all",{url:"/profitloseAll",templateUrl:"./templates/profitlose/all.html"}).state("profitlose.other",{url:"/profitloseOther",templateUrl:"./templates/profitlose/other.html"}).state("bet",{url:"/bet",templateUrl:"./templates/bet/bet.html"}).state("bet.allbet",{url:"/allBet",templateUrl:"./templates/bet/all.html"}).state("bet.otherbet",{url:"/otherBet",templateUrl:"./templates/bet/other.html"}).state("betDetail",{url:"/betDetail/:type&:category&:id",templateUrl:"./templates/bet/betDetail.html"}).state("users",{url:"/users",templateUrl:"./templates/users/users.html"}).state("users.all",{url:"/allUser",templateUrl:"./templates/users/all.html"}).state("users.other",{url:"/otherUser",templateUrl:"./templates/users/other.html"})}]),myApp.run(["$state","$rootScope","$timeout","localStorageService",function(e,t,a,n){t.$on("$stateChangeStart",function(o,r,i,s,u,l){a.cancel(t.timer),"login"!=r.name&&(n.get("username")||(o.preventDefault(),e.go("login")))})}]),myApp.controller("userLoginedCtrl",["$scope","$state","$rootScope","localStorageService",function(e,t,a,n){e.username=n.get("username"),e.logout=function(){n.clearAll(),t.go("login")}}]),myApp.controller("loginCtrl",["$scope","$http","$state","$rootScope","localStorageService",function(e,t,a,n,o){return o.isSupported?o.get("username")?(n.username=o.get("username"),void a.go("realtime")):void(e.loginSubmit=function(){var r={userName:e.username,password:e.password};t({url:"http://60.205.163.65:8080/manager/login",method:"post",headers:{"Content-Type":"application/json;charset=utf-8;"},data:r}).then(function(t){var r=t.data;return"NO_LOGIN"==t.data.result?(o.clearAll(),void a.go("login")):void("SUCCESS"==r.result?(n.username=e.username,o.isSupported?(o.set("Accesskey",r.data.accessKey),o.set("secretKey",r.data.securityKey),o.set("username",e.username)):alert("您的浏览器版本太低，请升级高版本浏览器"),a.go("realtime")):alert("用户名或密码有误请重试"))},function(e){})}):void alert("您的浏览器版本太低，请升级高版本浏览器")}]),myApp.controller("realtimeCtrl",["$scope","$rootScope","$http","$timeout","$filter","$state","encrypt","localStorageService",function(e,t,a,n,o,r,i,s){function u(t){e.table1=[[{key:"大",value:1.988,money:t.rankingStakeList[0].big},{key:"大",value:1.988,money:t.rankingStakeList[1].big},{key:"大",value:1.988,money:t.rankingStakeList[2].big},{key:"大",value:1.988,money:t.rankingStakeList[3].big},{key:"大",value:1.988,money:t.rankingStakeList[4].big},{key:"大",value:1.988,money:t.rankingStakeList[5].big},{key:"大",value:1.988,money:t.rankingStakeList[6].big},{key:"大",value:1.988,money:t.rankingStakeList[7].big},{key:"大",value:1.988,money:t.rankingStakeList[8].big},{key:"大",value:1.988,money:t.rankingStakeList[9].big}],[{key:"小",value:1.988,money:t.rankingStakeList[0].small},{key:"小",value:1.988,money:t.rankingStakeList[1].small},{key:"小",value:1.988,money:t.rankingStakeList[2].small},{key:"小",value:1.988,money:t.rankingStakeList[3].small},{key:"小",value:1.988,money:t.rankingStakeList[4].small},{key:"小",value:1.988,money:t.rankingStakeList[5].small},{key:"小",value:1.988,money:t.rankingStakeList[6].small},{key:"小",value:1.988,money:t.rankingStakeList[7].small},{key:"小",value:1.988,money:t.rankingStakeList[8].small},{key:"小",value:1.988,money:t.rankingStakeList[9].small}],[{key:"单",value:1.988,money:t.rankingStakeList[0].odd},{key:"单",value:1.988,money:t.rankingStakeList[1].odd},{key:"单",value:1.988,money:t.rankingStakeList[2].odd},{key:"单",value:1.988,money:t.rankingStakeList[3].odd},{key:"单",value:1.988,money:t.rankingStakeList[4].odd},{key:"单",value:1.988,money:t.rankingStakeList[5].odd},{key:"单",value:1.988,money:t.rankingStakeList[6].odd},{key:"单",value:1.988,money:t.rankingStakeList[7].odd},{key:"单",value:1.988,money:t.rankingStakeList[8].odd},{key:"单",value:1.988,money:t.rankingStakeList[9].odd}],[{key:"双",value:1.988,money:t.rankingStakeList[0].even},{key:"双",value:1.988,money:t.rankingStakeList[1].even},{key:"双",value:1.988,money:t.rankingStakeList[2].even},{key:"双",value:1.988,money:t.rankingStakeList[3].even},{key:"双",value:1.988,money:t.rankingStakeList[4].even},{key:"双",value:1.988,money:t.rankingStakeList[5].even},{key:"双",value:1.988,money:t.rankingStakeList[6].even},{key:"双",value:1.988,money:t.rankingStakeList[7].even},{key:"双",value:1.988,money:t.rankingStakeList[8].even},{key:"双",value:1.988,money:t.rankingStakeList[9].even}],[{key:"龙",value:1.988,money:t.commonStake.firstUp},{key:"龙",value:1.988,money:t.commonStake.secondUp},{key:"龙",value:1.988,money:t.commonStake.thirdUp},{key:"龙",value:1.988,money:t.commonStake.fourthUp},{key:"龙",value:1.988,money:t.commonStake.fifthUp},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:"虎",value:1.988,money:t.commonStake.firstDowm},{key:"虎",value:1.988,money:t.commonStake.secondDowm},{key:"虎",value:1.988,money:t.commonStake.thirdDowm},{key:"虎",value:1.988,money:t.commonStake.fourthDowm},{key:"虎",value:1.988,money:t.commonStake.fifthDowm},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:1,value:9.94,money:t.appointStakeList[0].first},{key:1,value:9.94,money:t.appointStakeList[0].second},{key:1,value:9.94,money:t.appointStakeList[0].third},{key:1,value:9.94,money:t.appointStakeList[0].fourth},{key:1,value:9.94,money:t.appointStakeList[0].fifth},{key:1,value:9.94,money:t.appointStakeList[0].sixth},{key:1,value:9.94,money:t.appointStakeList[0].seventh},{key:1,value:9.94,money:t.appointStakeList[0].eighth},{key:1,value:9.94,money:t.appointStakeList[0].ninth},{key:1,value:9.94,money:t.appointStakeList[0].tenth}],[{key:2,value:9.94,money:t.appointStakeList[1].first},{key:2,value:9.94,money:t.appointStakeList[1].second},{key:2,value:9.94,money:t.appointStakeList[1].third},{key:2,value:9.94,money:t.appointStakeList[1].fourth},{key:2,value:9.94,money:t.appointStakeList[1].fifth},{key:2,value:9.94,money:t.appointStakeList[1].sixth},{key:2,value:9.94,money:t.appointStakeList[1].seventh},{key:2,value:9.94,money:t.appointStakeList[1].eighth},{key:2,value:9.94,money:t.appointStakeList[1].ninth},{key:2,value:9.94,money:t.appointStakeList[1].tenth}],[{key:3,value:9.94,money:t.appointStakeList[2].first},{key:3,value:9.94,money:t.appointStakeList[2].second},{key:3,value:9.94,money:t.appointStakeList[2].third},{key:3,value:9.94,money:t.appointStakeList[2].fourth},{key:3,value:9.94,money:t.appointStakeList[2].fifth},{key:3,value:9.94,money:t.appointStakeList[2].sixth},{key:3,value:9.94,money:t.appointStakeList[2].seventh},{key:3,value:9.94,money:t.appointStakeList[2].eighth},{key:3,value:9.94,money:t.appointStakeList[2].ninth},{key:3,value:9.94,money:t.appointStakeList[2].tenth}],[{key:4,value:9.94,money:t.appointStakeList[3].first},{key:4,value:9.94,money:t.appointStakeList[3].second},{key:4,value:9.94,money:t.appointStakeList[3].third},{key:4,value:9.94,money:t.appointStakeList[3].fourth},{key:4,value:9.94,money:t.appointStakeList[3].fifth},{key:4,value:9.94,money:t.appointStakeList[3].sixth},{key:4,value:9.94,money:t.appointStakeList[3].seventh},{key:4,value:9.94,money:t.appointStakeList[3].eighth},{key:4,value:9.94,money:t.appointStakeList[3].ninth},{key:4,value:9.94,money:t.appointStakeList[3].tenth}],[{key:5,value:9.94,money:t.appointStakeList[4].first},{key:5,value:9.94,money:t.appointStakeList[4].second},{key:5,value:9.94,money:t.appointStakeList[4].third},{key:5,value:9.94,money:t.appointStakeList[4].fourth},{key:5,value:9.94,money:t.appointStakeList[4].fifth},{key:5,value:9.94,money:t.appointStakeList[4].sixth},{key:5,value:9.94,money:t.appointStakeList[4].seventh},{key:5,value:9.94,money:t.appointStakeList[4].eighth},{key:5,value:9.94,money:t.appointStakeList[4].ninth},{key:5,value:9.94,money:t.appointStakeList[4].tenth}],[{key:6,value:9.94,money:t.appointStakeList[5].first},{key:6,value:9.94,money:t.appointStakeList[5].second},{key:6,value:9.94,money:t.appointStakeList[5].third},{key:6,value:9.94,money:t.appointStakeList[5].fourth},{key:6,value:9.94,money:t.appointStakeList[5].fifth},{key:6,value:9.94,money:t.appointStakeList[5].sixth},{key:6,value:9.94,money:t.appointStakeList[5].seventh},{key:6,value:9.94,money:t.appointStakeList[5].eighth},{key:6,value:9.94,money:t.appointStakeList[5].ninth},{key:6,value:9.94,money:t.appointStakeList[5].tenth}],[{key:7,value:9.94,money:t.appointStakeList[6].first},{key:7,value:9.94,money:t.appointStakeList[6].second},{key:7,value:9.94,money:t.appointStakeList[6].third},{key:7,value:9.94,money:t.appointStakeList[6].fourth},{key:7,value:9.94,money:t.appointStakeList[6].fifth},{key:7,value:9.94,money:t.appointStakeList[6].sixth},{key:7,value:9.94,money:t.appointStakeList[6].seventh},{key:7,value:9.94,money:t.appointStakeList[6].eighth},{key:7,value:9.94,money:t.appointStakeList[6].ninth},{key:7,value:9.94,money:t.appointStakeList[6].tenth}],[{key:8,value:9.94,money:t.appointStakeList[7].first},{key:8,value:9.94,money:t.appointStakeList[7].second},{key:8,value:9.94,money:t.appointStakeList[7].third},{key:8,value:9.94,money:t.appointStakeList[7].fourth},{key:8,value:9.94,money:t.appointStakeList[7].fifth},{key:8,value:9.94,money:t.appointStakeList[7].sixth},{key:8,value:9.94,money:t.appointStakeList[7].seventh},{key:8,value:9.94,money:t.appointStakeList[7].eighth},{key:8,value:9.94,money:t.appointStakeList[7].ninth},{key:8,value:9.94,money:t.appointStakeList[7].tenth}],[{key:9,value:9.94,money:t.appointStakeList[8].first},{key:9,value:9.94,money:t.appointStakeList[8].second},{key:9,value:9.94,money:t.appointStakeList[8].third},{key:9,value:9.94,money:t.appointStakeList[8].fourth},{key:9,value:9.94,money:t.appointStakeList[8].fifth},{key:9,value:9.94,money:t.appointStakeList[8].sixth},{key:9,value:9.94,money:t.appointStakeList[8].seventh},{key:9,value:9.94,money:t.appointStakeList[8].eighth},{key:9,value:9.94,money:t.appointStakeList[8].ninth},{key:9,value:9.94,money:t.appointStakeList[8].tenth}],[{key:10,value:9.94,money:t.appointStakeList[9].first},{key:10,value:9.94,money:t.appointStakeList[9].second},{key:10,value:9.94,money:t.appointStakeList[9].third},{key:10,value:9.94,money:t.appointStakeList[9].fourth},{key:10,value:9.94,money:t.appointStakeList[9].fifth},{key:10,value:9.94,money:t.appointStakeList[9].sixth},{key:10,value:9.94,money:t.appointStakeList[9].seventh},{key:10,value:9.94,money:t.appointStakeList[9].eighth},{key:10,value:9.94,money:t.appointStakeList[9].ninth},{key:10,value:9.94,money:t.appointStakeList[9].tenth}]],e.table2=[[{key:"3",value:"41",money:t.commonStake.firstSecond3},{key:"4",value:"41",money:t.commonStake.firstSecond4},{key:"5",value:"21",money:t.commonStake.firstSecond5},{key:"6",value:"21",money:t.commonStake.firstSecond6}],[{key:"7",value:"12",money:t.commonStake.firstSecond7},{key:"8",value:"12",money:t.commonStake.firstSecond8},{key:"9",value:"10.3",money:t.commonStake.firstSecond9},{key:"10",value:"10.3",money:t.commonStake.firstSecond10}],[{key:"11",value:"8.3",money:t.commonStake.firstSecond11},{key:"12",value:"10.3",money:t.commonStake.firstSecond12},{key:"13",value:"10.3",money:t.commonStake.firstSecond13},{key:"14",value:"12",money:t.commonStake.firstSecond14}],[{key:"15",value:"12",money:t.commonStake.firstSecond15},{key:"16",value:"21",money:t.commonStake.firstSecond16},{key:"17",value:"21",money:t.commonStake.firstSecond17},{key:"18",value:"41",money:t.commonStake.firstSecond18}],[{key:"19",value:"12",money:t.commonStake.firstSecond19},{key:"",value:""},{key:"",value:""},{key:"",value:""}],[{key:"冠亚大",value:"2",money:t.commonStake.firstSecondBig},{key:"冠亚小",value:"1.63",money:t.commonStake.firstSecondSmall},{key:"冠亚单",value:"1.63",money:t.commonStake.firstSecondOdd},{key:"冠亚双",value:"2",money:t.commonStake.firstSecondOdd}]]}function l(e,t){var a=i.getAuthor(e,t,s.get("secretKey"));s.set("Authorization",a),s.set("Accesskey",s.get("Accesskey"))}function y(){l("http://60.205.163.65:8080/manager/stake/configer",null),a({url:"http://60.205.163.65:8080/manager/stake/configer",method:"get",dataType:"json"}).then(function(t){var a=t.data;return"NO_LOGIN"==t.data.result?(s.clearAll(),void r.go("login")):(e.racingNum=a.data.racingNum,e.stopTime=o("toMinSec")(a.data.endStakeTime),e.startTime=o("toMinSec")(a.data.startRacingTime),e.todayIncome=a.data.todayIncome,e.preResult=a.data.preResult,e.nowStatus=a.data.stageName,e.preRacingNum=a.data.preRacingNum,e.money=a.data.totalRacingStakeAmount,u(a.data.stakeVo),"ERROR"===a.result?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!0,e.toastMessage="暂无比赛结果",e.mask=!1,e.computering=!1,void(e.modifying=!1)):"SUCCESS"===a.result&&4==a.data.stage?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!1,e.mask=!1,e.computering=!1,e.modifying=!1,void(k=!0)):"SUCCESS"===a.result&&2==a.data.stage?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!1,e.mask=!0,e.computering=!0,void(e.modifying=!1)):"SUCCESS"===a.result&&3==a.data.stage?(e.tableDisabled=!0,e.toast=!1,e.mask=!1,e.computering=!1,e.modifying=!0,k&&(e.arrResult=a.data.result,k=!1),void(e.modifyNotice="")):void("SUCCESS"===a.result&&1==a.data.stage&&(e.toast=!1,e.mask=!1,e.computering=!1,e.modifying=!1,e.tableDisabled=!1)))},function(e){}),t.timer=n(y,1e3)}e.table1=[],e.table2=[],e.sortableOptions={axis:"x"};var m="http://60.205.163.65:8080/manager/stake/configer",k=!0;n.cancel(t.timer),t.timer=n(y,1e3),e.modifyReslut=function(){l(m,{racingNum:e.racingNum,result:e.arrResult}),a({url:m,method:"put",data:{racingNum:e.racingNum,result:e.arrResult}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(s.clearAll(),void r.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&alert("操作成功")))},function(t){e.modifyNotice="请求失败请重试"})}}]),myApp.controller("lotterylistCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/racing/result?page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/racing/result?page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="开奖列表页",e.queryPage="",i(),e.goPage=function(t){e.queryPage=t,i()}}]),myApp.controller("integralCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("applyCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){t({url:"http://60.205.163.65:8080/manager/pointsapp/status?status="+e.queryStatus+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘申请上下分列表",e.queryStatus="UNTREATED",e.queryPage=1,r("http://60.205.163.65:8080/manager/pointsapp/status?status="+e.queryStatus+"&page="+e.queryPage,null),i(),e.selectOptions=[{key:"UNTREATED",value:"待处理"},{key:"AUDIT",value:"已批准"},{key:"REJECT",value:"已拒绝"},{key:"CANCEL",value:"已取消"}],e.selection=e.selectOptions[0],e.selectChange=function(){e.queryStatus=e.selection.key,e.queryPage=1,r("http://60.205.163.65:8080/manager/pointsapp/status?status="+e.queryStatus+"&page="+e.queryPage,null),i()},e.goPage=function(t){e.queryPage=t,r("http://60.205.163.65:8080/manager/pointsapp/status?status="+e.queryStatus+"&page="+e.queryPage,null),i()},e.toRight=function(t,a){switch(e.modalContent="",e.modalID=a,e.modalStatus=t,t){case"ok":e.modalTitle="批准";break;case"danger":e.modalTitle="拒绝";break;case"cancel":e.modalTitle="取消"}},e.confirm=function(o){var s="";switch(o){case"ok":s="/manager/pointsapp/"+e.modalID+"/status/audit";break;case"danger":s="/manager/pointsapp/"+e.modalID+"/status/reject";break;case"cancel":s="/manager/pointsapp/"+e.modalID+"/status/cancel"}r("http://60.205.163.65:8080"+s,{comments:e.modalContent}),t({url:"http://60.205.163.65:8080"+s,method:"put",data:{comments:e.modalContent}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&(alert("操作成功"),i())))},function(){alert("请求失败，请重试或缺失必要内容")})}}]).controller("listCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/user/points?nickName="+e.queryNickName+"&userId="+e.queryUserId+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/points?nickName="+e.queryNickName+"&userId="+e.queryUserId+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(e){})}e.text="分盘积分列表",e.queryNickName="",e.queryUserId="",e.queryPage=1,i(),e.goPage=function(t){e.queryPage=t,i()},e.search=function(){e.queryNickName=e.searchName?e.searchName:"",e.queryUserId=e.searchId?e.searchId:"",i()},e.toModal=function(t,a){e.money="",e.queryUserId=a,"add"==t&&(e.modalTitle="加积分",e.modalStatus="add"),"reduce"==t&&(e.modalTitle="减积分",e.modalStatus="reduce")},e.confirm=function(o){var s="";switch(o){case"add":s="/manager/add/points/user/"+e.queryUserId;break;case"reduce":s="/manager/subtract/points/user/"+e.queryUserId}r("http://60.205.163.65:8080"+s,{points:e.money}),t({url:"http://60.205.163.65:8080"+s,method:"put",data:{points:e.money}}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):("ERROR"==o.result&&alert(o.message),void("SUCCESS"==o.result&&(e.queryNickName="",e.queryUserId="",e.queryPage=1,i())))},function(){alert("请求失败，请重试或缺失必要内容")})}}]),myApp.controller("integralDetailCtrl",["$scope","$http","$state","$stateParams","$sanitize","localStorageService","encrypt",function(e,t,a,n,o,r,i){function s(e,t){var a=i.getAuthor(e,t,r.get("secretKey"));r.set("Authorization",a),r.set("Accesskey",r.get("Accesskey"))}function u(){s("http://60.205.163.65:8080/manager/user/"+e.queryUserId+"/account/record?page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.queryUserId+"/account/record?page="+e.queryPage,method:"get"}).then(function(t){var n=t.data;return"NO_LOGIN"==t.data.result?(r.clearAll(),void a.go("login")):("ERROR"==n.result&&alert(n.message),void("SUCCESS"==n.result&&(e.tableData=n.data,e.currentPage=n.page,e.total=n.totalPage)))},function(){alert("请求失败，请重试或缺失必要内容")})}e.queryUserId=n.userId,e.queryPage=1,e.title="当前的分盘名称为 "+n.userName,u(),e.goPage=function(t){e.queryPage=t,u()}}]),myApp.controller("profitCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("allPlCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function s(){r("http://60.205.163.65:8080/manager/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="总体盈亏报表",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.queryIssue="",e.selectActive="byDate",i(),e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,s()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():s()},e.reRender=function(t){"date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),"issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,s())}}]).controller("otherPlCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/user/"+e.userId+"/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.userId+"/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function s(){r("http://60.205.163.65:8080/manager/user/"+e.userId+"/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.userId+"/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘盈亏报表",e.tableData=null,e.selectActive="byDate",e.userId="",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.queryIssue="",r("http://60.205.163.65:8080/manager/user?nicName=&userId=",null),t({url:"http://60.205.163.65:8080/manager/user?nicName=&userId=",methoed:"get"}).then(function(t){var o=t.data;return"ERROR"==o.result?void alert("获取分盘名称列表失败，请重新刷新页面"):"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):(e.selectOptions=[{key:"0",value:"选择分盘名称"}],angular.forEach(o.data,function(t){var a={};a.key=t.id,a.value=t.nickName,e.selectOptions.push(a)}),void(e.selectName=e.selectOptions[0]))},function(){alert("请求失败，请重试或缺失必要内容")}),e.selectChange=function(){e.userId=e.selectName.key,"byDate"==e.selectActive?i():s()},e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,s()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():s()},e.reRender=function(t){return e.userId?("date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),void("issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,s()))):void alert("请先选择分盘名称")}}]),myApp.controller("betCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("allBetCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function s(){r("http://60.205.163.65:8080/manager/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="总盘押注报表",e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.queryIssue="",i(),e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,s()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():s()},e.reRender=function(t){"date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),"issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,s())}}]).controller("otherBetCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/user/"+e.userId+"/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.userId+"/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function s(){r("http://60.205.163.65:8080/manager/user/"+e.userId+"/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.userId+"/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.tableData=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘押注报表",e.tableData=null,e.selectActive="byDate",e.userId="",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.queryIssue="",r("http://60.205.163.65:8080/manager/user?nicName=&userId=",null),t({url:"http://60.205.163.65:8080/manager/user?nicName=&userId=",methoed:"get"}).then(function(t){var o=t.data;return"ERROR"==o.result?void alert("获取分盘名称列表失败，请重新刷新页面"):"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):(e.selectOptions=[{key:"0",value:"选择分盘名称"}],angular.forEach(o.data,function(t){var a={};a.key=t.id,a.value=t.nickName,e.selectOptions.push(a)}),void(e.selectName=e.selectOptions[0]))},function(){alert("请求失败，请重试或缺失必要内容")}),e.selectChange=function(){e.userId=e.selectName.key,"byDate"==e.selectActive?i():s()},e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,s()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():s()},e.reRender=function(t){return e.userId?("date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),void("issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,s()))):void alert("请先选择分盘名称")}}]).controller("betDetailCtrl",["$scope","$stateParams","$http","encrypt","localStorageService",function(e,t,a,n,o){function r(e,t){var a=n.getAuthor(e,t,o.get("secretKey"));o.set("Authorization",a),o.set("Accesskey",o.get("Accesskey"))}function i(t){e.table1=[[{key:"大",value:1.988,money:t.rankingStakeList[0].big},{key:"大",value:1.988,money:t.rankingStakeList[1].big},{key:"大",value:1.988,money:t.rankingStakeList[2].big},{key:"大",value:1.988,money:t.rankingStakeList[3].big},{key:"大",value:1.988,money:t.rankingStakeList[4].big},{key:"大",value:1.988,money:t.rankingStakeList[5].big},{key:"大",value:1.988,money:t.rankingStakeList[6].big},{key:"大",value:1.988,money:t.rankingStakeList[7].big},{key:"大",value:1.988,money:t.rankingStakeList[8].big},{key:"大",value:1.988,money:t.rankingStakeList[9].big
}],[{key:"小",value:1.988,money:t.rankingStakeList[0].small},{key:"小",value:1.988,money:t.rankingStakeList[1].small},{key:"小",value:1.988,money:t.rankingStakeList[2].small},{key:"小",value:1.988,money:t.rankingStakeList[3].small},{key:"小",value:1.988,money:t.rankingStakeList[4].small},{key:"小",value:1.988,money:t.rankingStakeList[5].small},{key:"小",value:1.988,money:t.rankingStakeList[6].small},{key:"小",value:1.988,money:t.rankingStakeList[7].small},{key:"小",value:1.988,money:t.rankingStakeList[8].small},{key:"小",value:1.988,money:t.rankingStakeList[9].small}],[{key:"单",value:1.988,money:t.rankingStakeList[0].odd},{key:"单",value:1.988,money:t.rankingStakeList[1].odd},{key:"单",value:1.988,money:t.rankingStakeList[2].odd},{key:"单",value:1.988,money:t.rankingStakeList[3].odd},{key:"单",value:1.988,money:t.rankingStakeList[4].odd},{key:"单",value:1.988,money:t.rankingStakeList[5].odd},{key:"单",value:1.988,money:t.rankingStakeList[6].odd},{key:"单",value:1.988,money:t.rankingStakeList[7].odd},{key:"单",value:1.988,money:t.rankingStakeList[8].odd},{key:"单",value:1.988,money:t.rankingStakeList[9].odd}],[{key:"双",value:1.988,money:t.rankingStakeList[0].even},{key:"双",value:1.988,money:t.rankingStakeList[1].even},{key:"双",value:1.988,money:t.rankingStakeList[2].even},{key:"双",value:1.988,money:t.rankingStakeList[3].even},{key:"双",value:1.988,money:t.rankingStakeList[4].even},{key:"双",value:1.988,money:t.rankingStakeList[5].even},{key:"双",value:1.988,money:t.rankingStakeList[6].even},{key:"双",value:1.988,money:t.rankingStakeList[7].even},{key:"双",value:1.988,money:t.rankingStakeList[8].even},{key:"双",value:1.988,money:t.rankingStakeList[9].even}],[{key:"龙",value:1.988,money:t.commonStake.firstUp},{key:"龙",value:1.988,money:t.commonStake.secondUp},{key:"龙",value:1.988,money:t.commonStake.thirdUp},{key:"龙",value:1.988,money:t.commonStake.fourthUp},{key:"龙",value:1.988,money:t.commonStake.fifthUp},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:"虎",value:1.988,money:t.commonStake.firstDowm},{key:"虎",value:1.988,money:t.commonStake.secondDowm},{key:"虎",value:1.988,money:t.commonStake.thirdDowm},{key:"虎",value:1.988,money:t.commonStake.fourthDowm},{key:"虎",value:1.988,money:t.commonStake.fifthDowm},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:1,value:9.94,money:t.appointStakeList[0].first},{key:1,value:9.94,money:t.appointStakeList[0].second},{key:1,value:9.94,money:t.appointStakeList[0].third},{key:1,value:9.94,money:t.appointStakeList[0].fourth},{key:1,value:9.94,money:t.appointStakeList[0].fifth},{key:1,value:9.94,money:t.appointStakeList[0].sixth},{key:1,value:9.94,money:t.appointStakeList[0].seventh},{key:1,value:9.94,money:t.appointStakeList[0].eighth},{key:1,value:9.94,money:t.appointStakeList[0].ninth},{key:1,value:9.94,money:t.appointStakeList[0].tenth}],[{key:2,value:9.94,money:t.appointStakeList[1].first},{key:2,value:9.94,money:t.appointStakeList[1].second},{key:2,value:9.94,money:t.appointStakeList[1].third},{key:2,value:9.94,money:t.appointStakeList[1].fourth},{key:2,value:9.94,money:t.appointStakeList[1].fifth},{key:2,value:9.94,money:t.appointStakeList[1].sixth},{key:2,value:9.94,money:t.appointStakeList[1].seventh},{key:2,value:9.94,money:t.appointStakeList[1].eighth},{key:2,value:9.94,money:t.appointStakeList[1].ninth},{key:2,value:9.94,money:t.appointStakeList[1].tenth}],[{key:3,value:9.94,money:t.appointStakeList[2].first},{key:3,value:9.94,money:t.appointStakeList[2].second},{key:3,value:9.94,money:t.appointStakeList[2].third},{key:3,value:9.94,money:t.appointStakeList[2].fourth},{key:3,value:9.94,money:t.appointStakeList[2].fifth},{key:3,value:9.94,money:t.appointStakeList[2].sixth},{key:3,value:9.94,money:t.appointStakeList[2].seventh},{key:3,value:9.94,money:t.appointStakeList[2].eighth},{key:3,value:9.94,money:t.appointStakeList[2].ninth},{key:3,value:9.94,money:t.appointStakeList[2].tenth}],[{key:4,value:9.94,money:t.appointStakeList[3].first},{key:4,value:9.94,money:t.appointStakeList[3].second},{key:4,value:9.94,money:t.appointStakeList[3].third},{key:4,value:9.94,money:t.appointStakeList[3].fourth},{key:4,value:9.94,money:t.appointStakeList[3].fifth},{key:4,value:9.94,money:t.appointStakeList[3].sixth},{key:4,value:9.94,money:t.appointStakeList[3].seventh},{key:4,value:9.94,money:t.appointStakeList[3].eighth},{key:4,value:9.94,money:t.appointStakeList[3].ninth},{key:4,value:9.94,money:t.appointStakeList[3].tenth}],[{key:5,value:9.94,money:t.appointStakeList[4].first},{key:5,value:9.94,money:t.appointStakeList[4].second},{key:5,value:9.94,money:t.appointStakeList[4].third},{key:5,value:9.94,money:t.appointStakeList[4].fourth},{key:5,value:9.94,money:t.appointStakeList[4].fifth},{key:5,value:9.94,money:t.appointStakeList[4].sixth},{key:5,value:9.94,money:t.appointStakeList[4].seventh},{key:5,value:9.94,money:t.appointStakeList[4].eighth},{key:5,value:9.94,money:t.appointStakeList[4].ninth},{key:5,value:9.94,money:t.appointStakeList[4].tenth}],[{key:6,value:9.94,money:t.appointStakeList[5].first},{key:6,value:9.94,money:t.appointStakeList[5].second},{key:6,value:9.94,money:t.appointStakeList[5].third},{key:6,value:9.94,money:t.appointStakeList[5].fourth},{key:6,value:9.94,money:t.appointStakeList[5].fifth},{key:6,value:9.94,money:t.appointStakeList[5].sixth},{key:6,value:9.94,money:t.appointStakeList[5].seventh},{key:6,value:9.94,money:t.appointStakeList[5].eighth},{key:6,value:9.94,money:t.appointStakeList[5].ninth},{key:6,value:9.94,money:t.appointStakeList[5].tenth}],[{key:7,value:9.94,money:t.appointStakeList[6].first},{key:7,value:9.94,money:t.appointStakeList[6].second},{key:7,value:9.94,money:t.appointStakeList[6].third},{key:7,value:9.94,money:t.appointStakeList[6].fourth},{key:7,value:9.94,money:t.appointStakeList[6].fifth},{key:7,value:9.94,money:t.appointStakeList[6].sixth},{key:7,value:9.94,money:t.appointStakeList[6].seventh},{key:7,value:9.94,money:t.appointStakeList[6].eighth},{key:7,value:9.94,money:t.appointStakeList[6].ninth},{key:7,value:9.94,money:t.appointStakeList[6].tenth}],[{key:8,value:9.94,money:t.appointStakeList[7].first},{key:8,value:9.94,money:t.appointStakeList[7].second},{key:8,value:9.94,money:t.appointStakeList[7].third},{key:8,value:9.94,money:t.appointStakeList[7].fourth},{key:8,value:9.94,money:t.appointStakeList[7].fifth},{key:8,value:9.94,money:t.appointStakeList[7].sixth},{key:8,value:9.94,money:t.appointStakeList[7].seventh},{key:8,value:9.94,money:t.appointStakeList[7].eighth},{key:8,value:9.94,money:t.appointStakeList[7].ninth},{key:8,value:9.94,money:t.appointStakeList[7].tenth}],[{key:9,value:9.94,money:t.appointStakeList[8].first},{key:9,value:9.94,money:t.appointStakeList[8].second},{key:9,value:9.94,money:t.appointStakeList[8].third},{key:9,value:9.94,money:t.appointStakeList[8].fourth},{key:9,value:9.94,money:t.appointStakeList[8].fifth},{key:9,value:9.94,money:t.appointStakeList[8].sixth},{key:9,value:9.94,money:t.appointStakeList[8].seventh},{key:9,value:9.94,money:t.appointStakeList[8].eighth},{key:9,value:9.94,money:t.appointStakeList[8].ninth},{key:9,value:9.94,money:t.appointStakeList[8].tenth}],[{key:10,value:9.94,money:t.appointStakeList[9].first},{key:10,value:9.94,money:t.appointStakeList[9].second},{key:10,value:9.94,money:t.appointStakeList[9].third},{key:10,value:9.94,money:t.appointStakeList[9].fourth},{key:10,value:9.94,money:t.appointStakeList[9].fifth},{key:10,value:9.94,money:t.appointStakeList[9].sixth},{key:10,value:9.94,money:t.appointStakeList[9].seventh},{key:10,value:9.94,money:t.appointStakeList[9].eighth},{key:10,value:9.94,money:t.appointStakeList[9].ninth},{key:10,value:9.94,money:t.appointStakeList[9].tenth}]],e.table2=[[{key:"3",value:"41",money:t.commonStake.firstSecond3},{key:"4",value:"41",money:t.commonStake.firstSecond4},{key:"5",value:"21",money:t.commonStake.firstSecond5},{key:"6",value:"21",money:t.commonStake.firstSecond6}],[{key:"7",value:"12",money:t.commonStake.firstSecond7},{key:"8",value:"12",money:t.commonStake.firstSecond8},{key:"9",value:"10.3",money:t.commonStake.firstSecond9},{key:"10",value:"10.3",money:t.commonStake.firstSecond10}],[{key:"11",value:"8.3",money:t.commonStake.firstSecond11},{key:"12",value:"10.3",money:t.commonStake.firstSecond12},{key:"13",value:"10.3",money:t.commonStake.firstSecond13},{key:"14",value:"12",money:t.commonStake.firstSecond14}],[{key:"15",value:"12",money:t.commonStake.firstSecond15},{key:"16",value:"21",money:t.commonStake.firstSecond16},{key:"17",value:"21",money:t.commonStake.firstSecond17},{key:"18",value:"41",money:t.commonStake.firstSecond18}],[{key:"19",value:"12",money:t.commonStake.firstSecond19},{key:"",value:""},{key:"",value:""},{key:"",value:""}],[{key:"冠亚大",value:"2",money:t.commonStake.firstSecondBig},{key:"冠亚小",value:"1.63",money:t.commonStake.firstSecondSmall},{key:"冠亚单",value:"1.63",money:t.commonStake.firstSecondOdd},{key:"冠亚双",value:"2",money:t.commonStake.firstSecondOdd}]]}e.userId=t.id,e.type=t.type,e.dateIssue=t.category;var s="";"all"===e.userId?("byDate"==e.type&&(s="http://60.205.163.65:8080/manager/stake/day/info?day="+e.dateIssue),"byIssue"==e.type&&(s="http://60.205.163.65:8080/manager/stake/racingnum/info?racingNum="+e.dateIssue)):("byDate"==e.type&&(s="http://60.205.163.65:8080/manager/user/"+e.userId+"/stake/day/info?day="+e.dateIssue),"byIssue"==e.type&&(s="http://60.205.163.65:8080/manager/user/"+e.userId+"/stake/racingnum/info?racingNum="+e.dateIssue)),r(s,null),a({url:s,method:"get"}).then(function(t){var a=t.data;return"NO_LOGIN"==a.result?void $state.go("login"):"ERROR"==a.result?void alert(a.message):("byIssue"==e.type&&(e.lotteryRestut=a.data.result?a.data.result.join("-"):""),e.money=a.data.stakeAmount,e.number=a.data.stakeCount,e.fitloss=a.data.incomeAmount,e.allfitloss=a.data.deficitAmount,void i(a.data.stakeVo))},function(){alert("请求失败，请重试或缺失必要内容")})}]),myApp.controller("userCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("allUserCtrl",["$scope","$http","$state","encrypt","localStorageService",function(e,t,a,n,o){function r(e,t){var a=n.getAuthor(e,t,o.get("secretKey"));o.set("Authorization",a),o.set("Accesskey",o.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager",null),t({url:"http://60.205.163.65:8080/manager",method:"get"}).then(function(t){var n=t.data;return"NO_LOGIN"==t.data.result?(o.clearAll(),void a.go("login")):"ERROR"==n.result?void alert(n.message):(e.userArr=n.data,e.currentPage=n.page,void(e.total=n.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="总盘用户管理",e.queryManagerId="",i(),e.enable=function(e){r("http://60.205.163.65:8080/manager/"+e+"/status/enable",null),t({url:"http://60.205.163.65:8080/manager/"+e+"/status/enable",method:"put"}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(o.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&(alert("操作成功"),i())))},function(){alert("请求失败，请重试或缺失必要内容")})},e.disable=function(e){r("http://60.205.163.65:8080/manager/"+e+"/status/disable",null),t({url:"http://60.205.163.65:8080/manager/"+e+"/status/disable",method:"put"}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(o.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&(alert("操作成功"),i())))},function(){alert("请求失败，请重试或缺失必要内容")})},e.modify=function(t){e.queryManagerId=t,e.operation="modify",e.modalTitle="修改用户信息",e.nickname="",e.password="",e.repeatPwd=""},e.delete=function(t){e.queryManagerId=t,e.operation="delete",e.modalTitle="删除用户"},e.addUser=function(){e.operation="add",e.modalTitle="添加新用户",e.nickname="",e.password="",e.repeatPwd="",e.username=""},e.confirm=function(){if("modify"==e.operation){if(e.password!=e.repeatPwd)return void alert("两次密码不一致");r("http://60.205.163.65:8080/manager/"+e.queryManagerId,{nickName:e.nickname,password:e.password}),t({url:"http://60.205.163.65:8080/manager/"+e.queryManagerId,method:"put",data:{nickName:e.nickname,password:e.password}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(o.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})}if("delete"==e.operation&&(r("http://60.205.163.65:8080/manager/"+e.queryManagerId,null),t({url:"http://60.205.163.65:8080/manager/"+e.queryManagerId,method:"delete"}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(o.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})),"add"==e.operation){if(e.password!=e.repeatPwd)return void alert("两次密码不一致");r("http://60.205.163.65:8080/manager/"+e.queryManagerId,{nickName:e.nickname,password:e.password,userName:e.username}),t({url:"http://60.205.163.65:8080/manager/"+e.queryManagerId,method:"post",data:{nickName:e.nickname,password:e.password,userName:e.username}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(o.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})}}}]).controller("otherUserCtrl",["$scope","$http","$state","localStorageService","encrypt",function(e,t,a,n,o){function r(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function i(){r("http://60.205.163.65:8080/manager/user?nickName="+e.queryNickName+"&userId="+e.queryNumber,null),t({url:"http://60.205.163.65:8080/manager/user?nickName="+e.queryNickName+"&userId="+e.queryNumber,method:"get"}).then(function(t){var o=t.data;return"NO_LOGIN"==t.data.result?(n.clearAll(),void a.go("login")):"ERROR"==o.result?void alert(o.message):(e.userArr=o.data,e.currentPage=o.page,void(e.total=o.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘用户管理",e.queryNickName="",e.queryNumber="",e.queryUserId="",i(),e.search=function(){e.queryNickName=e.searchName||"",e.queryNumber=e.searchNumber||"",i()},e.modify=function(t){e.operation="modify",e.modalTitle="修改用户信息",e.nickname="",e.queryUserId=t},e.delete=function(t){e.operation="delete",e.modalTitle="删除用户",e.queryUserId=t},e.addUser=function(){e.operation="add",e.modalTitle="添加新用户",e.username="",e.nickname="",e.password="",e.repeatPwd=""},e.addSetRobot=function(t,a){e.operation="addSetRobot",e.modalTitle=a,e.expire="",e.queryUserId=t,"添加机器人"==a?(e.statusOperate="addRobot",e.clientsn=(new UUID).id):e.statusOperate="setRobot"},e.userCanAble=function(e,o){r("http://60.205.163.65:8080/manager/user/"+e+"/available",{isEnable:o}),t({url:"http://60.205.163.65:8080/manager/user/"+e+"/available",method:"put",data:{isEnable:o}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})},e.robotCanAble=function(e,o){r("http://60.205.163.65:8080/manager/user/"+e+"/robot/available",{clientIsEnable:o}),t({url:"http://60.205.163.65:8080/manager/user/"+e+"/robot/available",method:"put",data:{clientIsEnable:o}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})},e.lookSn=function(t){e.lookClientSn=t},e.confirm=function(){if("modify"==e.operation){if(e.password!=e.repeatPwd)return void alert("两次密码不一致");r("http://60.205.163.65:8080/manager/user/"+e.queryUserId,{nickName:e.nickname,password:e.password}),t({url:"http://60.205.163.65:8080/manager/user/"+e.queryUserId,method:"put",data:{nickName:e.nickname,password:e.password}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})}if("delete"==e.operation&&(r("http://60.205.163.65:8080/manager/user/"+e.queryUserId,null),t({url:"http://60.205.163.65:8080/manager/user/"+e.queryUserId,method:"delete"}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})),"add"==e.operation){if(e.password!=e.repeatPwd)return void alert("两次密码不一致");r("http://60.205.163.65:8080/manager/user/",{nickName:e.nickname,password:e.password,userName:e.username}),t({url:"http://60.205.163.65:8080/manager/user/",method:"post",data:{nickName:e.nickname,password:e.password,userName:e.username}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")})}"addSetRobot"==e.operation&&(r("http://60.205.163.65:8080/manager/user/"+e.queryUserId+"/robot",{clientSn:e.clientsn,clientExpireDate:new Date(e.expire).getTime()}),t({url:"http://60.205.163.65:8080/manager/user/"+e.queryUserId+"/robot",method:"post",data:{clientSn:e.clientsn,clientExpireDate:new Date(e.expire).getTime()}}).then(function(e){var t=e.data;return"NO_LOGIN"==e.data.result?(n.clearAll(),void a.go("login")):("ERROR"==t.result&&alert(t.message),void("SUCCESS"==t.result&&i()))},function(e){alert("请求失败，请重试或缺失必要内容")}))}}]),myApp.directive("navHeader",function(){return{restrict:"AE",scope:{nowSelsect:"@selectActive",realtimeSelsect:"@realtimeActive"},templateUrl:"./templates/nav/nav.html"}}),myApp.directive("goback",function(){return{restrict:"A",link:function(e,t){$(t).on("click",function(){window.history.back()})}}}),myApp.directive("tabActive",function(){return{restrict:"A",link:function(e,t,a){$(t).on("click",function(e){$(t).siblings("li").removeClass("active"),$(this).addClass("active")})}}}),myApp.factory("encrypt",["$location","sha1",function(e,t){function a(e,t){var a=e.split("//"),n={},o=a[1].indexOf("/"),r=a[1].substring(o),i=null;if(i=r.indexOf("?")!=-1?r.split("?")[0]:r,e.indexOf("?")!=-1){var s="?"+r.split("?")[1],u=s.substr(1);strs=u.split("&");for(var l=0;l<strs.length;l++)n[strs[l].split("=")[0]]=unescape(strs[l].split("=")[1])}return{url:e,domain:a[1].substring(0,o),path:i,searchObj:n,params:t}}return{getAuthor:function(e,n,o){var r=a(e,n);angular.isObject(r.params)&&(r.searchObj.requestBody=JSON.stringify(r.params));var i=[];angular.forEach(r.searchObj,function(e,t){i.push(t)}),i.sort();var s="";return angular.forEach(i,function(e,t){s+=r.searchObj[e]}),t.hash(r.path+s+o).toUpperCase()}}}]),myApp.directive("loading",["$http",function(e){return{restrict:"A",link:function(t,a,n){t.isLoading=function(){return e.pendingRequests.length>0},t.$watch(t.isLoading,function(e){e?a.show():a.hide()})}}}]),myApp.factory("HttpInterceptor",["$q","localStorageService",function(e,t){return{request:function(e){return t.get("Authorization")&&(e.headers.Authorization=t.get("Authorization"),e.headers.Accesskey=t.get("Accesskey")),e},requestError:function(t){return e.reject(t)},response:function(e){return e},responseError:function(t){return e.reject(t)}}}]),myApp.filter("toMinSec",function(){return function(e){if(e<0)return"00:00";var t=e/1e3,a=parseInt(t/60),n=parseInt(t%60);return a<10&&(a="0"+a),n<10&&(n="0"+n),a+":"+n}}),myApp.filter("splitArrFilter",function(){return function(e){if("object"==typeof e){for(var t="",a=0;a<e.length;a++)t+=0===a?e[a]:'<span class="paddingTips">|</span>'+e[a];return t}return e}});